<template>
  <div class="example">
		<Blockquote title="Upload æ–‡ä»¶ä¸Šä¼ ">
			å–œæ¬¢åƒä»€ä¹ˆéšä¾¿å†™ğŸ˜Š
		</Blockquote>
		
		<Row :gutter="20">
			<Col :span="12">
				<Panel type='code' title="åŸºæœ¬ç”¨æ³•">
					<div class="e-flex e-col-center">
						<Panel :header="false" margin="5px">
							<Upload :url="url"></Upload>
						</Panel>
						<Panel :header="false" margin="5px">
							<Upload :url="url">
								<a href="javascript:;">ä¸Šä¼ æ–‡ä»¶</a>
							</Upload>
						</Panel>
					</div>
					<Divider left text="ç”¨æ³•è¯´æ˜" margin="26px 0 0">
						<p>æœ€åŸºæœ¬ç”¨æ³•ï¼Œç‚¹å‡»ä¸Šä¼ ï¼Œä¸€æ¬¡é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶</p>
						<p>å¯é€šè¿‡é»˜è®¤æ’æ§½è®¾ç½®è§¦å‘ä¸Šä¼ ç»„ä»¶çš„æ§ä»¶</p>
					</Divider>
				</Panel>
			</Col>
			<Col :span="12">
				<Code skin="dark" :code="code1" :height="194" copy></Code>
			</Col>
			<Col :span="12">
				<Panel type='code' title="ä¸Šä¼ åˆ—è¡¨">
					<Panel :header="false" margin="5px">
						<Upload :url="url" list></Upload>
					</Panel>
					<Panel :header="false" margin="5px">
						<Upload :url="url" list="card"></Upload>
					</Panel>
					<Divider left text="ç”¨æ³•è¯´æ˜" margin="26px 0 0">
						<p>å¯é€šè¿‡<code>list&lt;String&gt;</code>å±æ€§è®¾ç½®æ˜¯å¦æ˜¾ç¤ºæ–‡ä»¶åˆ—è¡¨åŠæ ·å¼ï¼Œæ”¯æŒ<code>list</code> | <code>card</code>ä¸¤ç§æ ·å¼</p>
						<p>å¯é€šè¿‡ä½œç”¨åŸŸæ’æ§½<code>list</code>è‡ªå®šä¹‰æ–‡ä»¶åˆ—è¡¨æ ·å¼åŠäº‹ä»¶</p>
					</Divider>
				</Panel>
			</Col>
			<Col :span="12">
				<Code skin="dark" :code="code2" :height="337" copy toggle></Code>
			</Col>
			<Col :span="12">
				<Panel type='code' title="ä¸Šä¼ é…ç½®é¡¹">
					<Row :gutter="10">
						<Col :span="12">
							<Panel :header='false'>
								<Upload :url="url" :options="options"></Upload>
							</Panel>
						</Col>
						<Col :span="12">
							<Panel :header='false'>
								<Upload :url="url" name="file" :size="200" :headers="{}" multiple :disabled="false"></Upload>
							</Panel>
						</Col>
					</Row>
					<Divider left text="ç”¨æ³•è¯´æ˜" margin="26px 0 0">
						<p>ç»„ä»¶æ¥æ”¶ <code>url&lt;String&gt;</code> å’Œ <code>options&lt;Object&gt;</code>ä¸¤ä¸ªå‚æ•°ï¼Œ
							<code>options&lt;Object&gt;</code>å‚æ•°ä¹Ÿå¯é€šè¿‡<code>props&lt;Object&gt;</code>æ–¹å¼ä¼ è¾“ï¼Œ
							ä½†ä¼˜å…ˆä½¿ç”¨<code>options&lt;Object&gt;</code>å‚æ•°é…ç½®é¡¹</p>
						<p><code><pre style="white-space: pre-wrap;">options:{
    name:'file', //ä¸Šä¼ çš„æ–‡ä»¶å­—æ®µå
    size:20000,//ä¸Šä¼ çš„æ–‡ä»¶æœ€å¤§é™åˆ¶ï¼Œå•ä½kb
    headers:{},//è®¾ç½®ä¸Šä¼ çš„è¯·æ±‚å¤´éƒ¨
    multiple:true,//æ˜¯å¦æ”¯æŒå¤šé€‰æ–‡ä»¶
    disabled:false, //æ˜¯å¦ç¦ç”¨
    data:{},//ä¸Šä¼ æ—¶é™„å¸¦çš„é¢å¤–å‚æ•°
    withCredentials:false,//æ”¯æŒå‘é€ cookie å‡­è¯ä¿¡æ¯
    list:false,//æ˜¯å¦æ˜¾ç¤ºå·²ä¸Šä¼ æ–‡ä»¶åˆ—è¡¨
    autoUpload:false,//æ˜¯å¦åœ¨é€‰å–æ–‡ä»¶åç«‹å³è¿›è¡Œä¸Šä¼ 
    accept:'image/*',//æ¥å—ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹
    format:['jpg','png']//æ”¯æŒçš„æ–‡ä»¶ç±»å‹ï¼Œä¸ accept ä¸åŒçš„æ˜¯ï¼Œformat æ˜¯è¯†åˆ«æ–‡ä»¶çš„åç¼€åï¼Œaccept ä¸º input æ ‡ç­¾åŸç”Ÿçš„ accept å±æ€§ï¼Œä¼šåœ¨é€‰æ‹©æ–‡ä»¶æ—¶è¿‡æ»¤ï¼Œå¯ä»¥ä¸¤è€…ç»“åˆä½¿ç”¨
}</pre></code></p>
					</Divider>
				</Panel>
			</Col>
			<Col :span="12">
				<Code skin="dark" :code="code3" :height="466" copy toggle></Code>
			</Col>
			<Col :span="12">
				<Panel type='code' title="æ‰‹åŠ¨ä¸Šä¼ ">
					<div class="e-flex">
						<Button type="primary" @click="handleUpload">ä¸Šä¼ æ–‡ä»¶</Button>
						<div class="e-flex-1">
							<Upload :url="url" list :autoUpload='false' ref="upload">
								<Button>é€‰æ‹©æ–‡ä»¶</Button>
							</Upload>
						</div>
					</div>
					<Divider left text="ç”¨æ³•è¯´æ˜" margin="26px 0 0">
						<p>é€šè¿‡ <code>autoUpload&lt;Boolean&gt;</code> å‚æ•°è®¾ç½®é»˜è®¤é€‰æ‹©æ–‡ä»¶ä¸ç«‹å³ä¸Šä¼ ï¼Œé€šè¿‡ç»„ä»¶æ–¹æ³•<code>upload</code>æ‰‹åŠ¨ä¸Šä¼ </p>
					</Divider>
				</Panel>
			</Col>
			<Col :span="12">
				<Code skin="dark" :code="code4" :height="146" copy toggle></Code>
			</Col>
			<Col :span="24">
				<Panel type='code' title="ä¸Šä¼ äº‹ä»¶">
					<Upload :url="url" :before="handleBefore" :error="handleError" :progress="handleProgress" :complete="handleComplete"></Upload>
					<Divider left text="ç”¨æ³•è¯´æ˜" margin="26px 0 0">
						<p><code>before&lt;Function&gt;</code> ä¸Šä¼ æ–‡ä»¶ä¹‹å‰çš„é’©å­ï¼Œå‚æ•°ä¸ºä¸Šä¼ çš„æ–‡ä»¶åˆ—è¡¨<code>files&lt;File&gt;</code>ï¼Œè‹¥è¿”å› <code>Promise</code> ä¸”è¢« <code>reject</code>ï¼Œåˆ™åœæ­¢ä¸Šä¼ </p>
						<p><code>progress&lt;Function&gt;</code> ä¸Šä¼ æ–‡ä»¶æ—¶çš„é’©å­ï¼Œå‚æ•°ä¸ºä¸Šä¼ çš„æ–‡ä»¶<code>file&lt;File&gt;</code>å’Œ<code>event&lt;ProgressEvent&gt;</code></p>
						<p><code>error&lt;Function&gt;</code> ä¸Šä¼ æ–‡ä»¶å¤±è´¥çš„é’©å­ï¼Œå‚æ•°ä¸ºä¸Šä¼ çš„æ–‡ä»¶<code>file&lt;File&gt;</code>ã€é”™è¯¯ç±»å‹<code>type&lt;String&gt;</code>å’Œé”™è¯¯ä¿¡æ¯<code>msg&lt;String&gt;</code></p>
						<p><code>complete&lt;Function&gt;</code> ä¸Šä¼ æ–‡ä»¶æˆåŠŸçš„é’©å­ï¼Œå‚æ•°ä¸ºä¸Šä¼ çš„æ–‡ä»¶<code>file&lt;File&gt;</code>å’Œ<code>response&lt;Object&gt;</code></p>
						<p>æ‰‹åŠ¨ä¸Šä¼ å’Œè‡ªåŠ¨ä¸Šä¼ å‡æ”¯æŒä»¥ä¸Šå›è°ƒæ–¹æ³•</p>
					</Divider>
				</Panel>
			</Col>
			<Divider margin="20px 0"></Divider>
			<Col :span="24">
				<Blockquote title="Upload Props"></Blockquote>
				<table-props :data="table.props.data" :example="false"></table-props>
			</Col>
			<Col :span="24">
				<Blockquote title="Upload Slots"></Blockquote>
				<table-slot :data="table.slot.data"></table-slot>
			</Col>
			<Col :span="24">
				<Blockquote title="Upload Methods"></Blockquote>
				<table-methods :data="table.methods.data"></table-methods>
			</Col>
		</Row>
		
  </div>
</template>

<script>
	import {TableProps,TableSlot,TableMethods} from '../bootstrap/table.js'
  export default {
    layout:'develop',
		components:{
			TableProps,
			TableSlot,
			TableMethods
		},
		data(){
			return{
				url:'//127.0.0.1:9002/file/upload/file',
				options:{
					type:'',
					name:'files',
					size:20000,
					headers:{},
					multiple:true,
					disabled:false,
					data:{},
					withCredentials:false,
					list:false,
					autoUpload:false,
					accept:'image/*',
					format:['jpg','png']
				},
				code1:`<Upload url="//jsonplaceholder.typicode.com/posts/"></Upload>`,
				code2:`<Panel :header="false" margin="5px">
					  <Upload url="//jsonplaceholder.typicode.com/posts/" list></Upload>
					</Panel>
					<Panel :header="false" margin="5px">
					  <Upload url="//jsonplaceholder.typicode.com/posts/" list="card"></Upload>
					</Panel>
					<Panel :header="false" margin="5px">
					  <Upload url="//jsonplaceholder.typicode.com/posts/" list="card">
					    <template v-slot:list="{file}">{{file.name}}</template>
					  </Upload>
					</Panel>
					<Panel :header="false" margin="5px">
					  <Upload url="//jsonplaceholder.typicode.com/posts/" list>
					    <template v-slot:list="{file}">{{file.name}}</template>
					  </Upload>
					</Panel>`,
				code3:`<template>
					  <Upload :url="url" :options="options"></Upload>
					  <Upload :url="url" name="file" :size="200" :headers="{}" multiple :disabled="false"></Upload>
					</template>
					&lt;script&gt;
				  export default(){
				    data(){
				      return{
				        //å¿…é€‰å‚æ•°ï¼Œä¸Šä¼ çš„åœ°å€
				        url:'//jsonplaceholder.typicode.com/posts/',
				        options:{
				          //ä¸Šä¼ çš„æ–‡ä»¶å­—æ®µå
				          name:'file',
				          //ä¸Šä¼ çš„æ–‡ä»¶æœ€å¤§é™åˆ¶ï¼Œå•ä½kb
				          size:20000,
				          //è®¾ç½®ä¸Šä¼ çš„è¯·æ±‚å¤´éƒ¨
				          headers:{},
				          //æ˜¯å¦æ”¯æŒå¤šé€‰æ–‡ä»¶
				          multiple:true,
				          //æ˜¯å¦ç¦ç”¨
				          disabled:false,
				          //ä¸Šä¼ æ—¶é™„å¸¦çš„é¢å¤–å‚æ•°
				          data:{},
				          //æ”¯æŒå‘é€ cookie å‡­è¯ä¿¡æ¯
				          withCredentials:false,
				          //æ˜¯å¦æ˜¾ç¤ºå·²ä¸Šä¼ æ–‡ä»¶åˆ—è¡¨
				          list:false,
				          //æ˜¯å¦åœ¨é€‰å–æ–‡ä»¶åç«‹å³è¿›è¡Œä¸Šä¼ 
				          autoUpload:false,
				          //æ¥å—ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹
				          accept:'image/*',
				          //æ”¯æŒçš„æ–‡ä»¶ç±»å‹ï¼Œä¸ accept ä¸åŒçš„æ˜¯ï¼Œformat æ˜¯è¯†åˆ«æ–‡ä»¶çš„åç¼€åï¼Œaccept ä¸º input æ ‡ç­¾åŸç”Ÿçš„ accept å±æ€§ï¼Œä¼šåœ¨é€‰æ‹©æ–‡ä»¶æ—¶è¿‡æ»¤ï¼Œå¯ä»¥ä¸¤è€…ç»“åˆä½¿ç”¨
				          format:['jpg','png']
				        }
				      }
				    }
				  }
					&lt;/script&gt;`,
				code4:`<template>
					<Button type="primary" @click="handleUpload">ä¸Šä¼ æ–‡ä»¶</Button>
					<Upload url="//jsonplaceholder.typicode.com/posts/" list :autoUpload='false' ref="upload">
					  <Button>é€‰æ‹©æ–‡ä»¶</Button>
					</Upload>
					</template>
					&lt;script&gt;
					export default(){
					  methods:{
					    handleUpload(){
					      this.$refs.upload.upload({
					        before:(files)=>{},
					        progress:(file,e)=>{},
					        error:(files,type,msg)=>{},
					        complete:(file,response)=>{},
					      })
					    }	
					  }	
					}
					&lt;/script&gt;`,
				table:{
					props:{
						data:[
							{params:'url',version:'0.0.1',desc:'ä¸Šä¼ çš„åœ°å€ï¼Œå¿…å¡«',type:'<code>String</code>',required:'æ˜¯'},
							{params:'name',version:'0.0.1',desc:'ä¸Šä¼ çš„æ–‡ä»¶å­—æ®µå',type:'<code>String</code>',required:'å¦',default:'<code>file</code>'},
							{params:'size',version:'0.0.1',desc:'ä¸Šä¼ çš„æ–‡ä»¶æœ€å¤§é™åˆ¶ï¼Œå•ä½kb',type:'<code>Number</code>',required:'å¦',default:'<code>200</code>'},
							{params:'headers',version:'0.0.1',desc:'è®¾ç½®ä¸Šä¼ çš„è¯·æ±‚å¤´éƒ¨',type:'<code>Object</code>',required:'å¦'},
							{params:'multiple',version:'0.0.1',desc:'æ˜¯å¦æ”¯æŒå¤šé€‰æ–‡ä»¶',type:'<code>Boolean</code>',required:'å¦',default:'<code>false</code>'},
							{params:'disabled',version:'0.0.1',desc:'æ˜¯å¦ç¦ç”¨',type:'<code>Boolean</code>',required:'å¦',default:'<code>false</code>'},
							{params:'data',version:'0.0.1',desc:'ä¸Šä¼ æ—¶é™„å¸¦çš„é¢å¤–å‚æ•°',type:'<code>Object</code>',required:'å¦'},
							{params:'withCredentials',version:'0.0.1',desc:'æ”¯æŒå‘é€ cookie å‡­è¯ä¿¡æ¯',type:'<code>Boolean</code>',required:'å¦',default:'<code>false</code>'},
							{params:'list',version:'0.0.1',desc:'æ˜¯å¦æ˜¾ç¤ºå·²ä¸Šä¼ æ–‡ä»¶åˆ—è¡¨',type:'<code>Boolean</code> | <code>String</code>',required:'å¦',default:'<code>false</code>',select:'<code>list</code> | <code>card</code>'},
							{params:'autoUpload',version:'0.0.1',desc:'æ˜¯å¦åœ¨é€‰å–æ–‡ä»¶åç«‹å³è¿›è¡Œä¸Šä¼ ',type:'<code>Boolean</code>',required:'å¦',default:'<code>true</code>'},
							{params:'accept',version:'0.0.1',desc:'æ¥å—ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹',type:'<code>String</code>',required:'å¦'},
							{params:'format',version:'0.0.1',desc:'æ”¯æŒçš„æ–‡ä»¶ç±»å‹ï¼Œä¸ accept ä¸åŒçš„æ˜¯ï¼Œformat æ˜¯è¯†åˆ«æ–‡ä»¶çš„åç¼€åï¼Œaccept ä¸º input æ ‡ç­¾åŸç”Ÿçš„ accept å±æ€§ï¼Œä¼šåœ¨é€‰æ‹©æ–‡ä»¶æ—¶è¿‡æ»¤ï¼Œå¯ä»¥ä¸¤è€…ç»“åˆä½¿ç”¨',type:'<code>Array</code>',required:'å¦'},
							{params:'files',version:'0.0.1',desc:'ä¸Šä¼ çš„æ–‡ä»¶åˆ—è¡¨, ä¾‹å¦‚: [{name: \'food.jpg\', url: \'https://xxx.cdn.com/xxx.jpg\'}]',type:'<code>Array</code>',required:'å¦'},
							{params:'options',version:'0.0.1',desc:'é…ç½®é¡¹ï¼Œå„é…ç½®é¡¹çš„é›†åˆ',type:'<code>Object</code>',required:'å¦'},
							{params:'before',version:'0.0.1',desc:'ä¸Šä¼ æ–‡ä»¶ä¹‹å‰çš„é’©å­ï¼Œå‚æ•°ä¸ºä¸Šä¼ çš„æ–‡ä»¶åˆ—è¡¨<code>files&lt;File&gt;</code>ï¼Œè‹¥è¿”å› <code>Promise</code> ä¸”è¢« <code>reject</code>ï¼Œåˆ™åœæ­¢ä¸Šä¼ ',type:'<code>Function(files&lt;File&gt;)</code>',required:'å¦'},
							{params:'error',version:'0.0.1',desc:'ä¸Šä¼ æ–‡ä»¶å¤±è´¥çš„é’©å­ï¼Œå‚æ•°ä¸ºä¸Šä¼ çš„æ–‡ä»¶<code>file&lt;File&gt;</code>ã€é”™è¯¯ç±»å‹<code>type&lt;String&gt;</code>å’Œé”™è¯¯ä¿¡æ¯<code>msg&lt;String&gt;</code>',type:'<code>Function(file&lt;File&gt;,type&lt;String&gt;,msg&lt;String&gt;)</code>',required:'å¦'},
							{params:'progress',version:'0.0.1',desc:'ä¸Šä¼ æ–‡ä»¶æ—¶çš„é’©å­ï¼Œå‚æ•°ä¸ºä¸Šä¼ çš„æ–‡ä»¶<code>file&lt;File&gt;</code>å’Œ<code>event&lt;ProgressEvent&gt;</code>',type:'<code>Function(file&lt;File&gt;,event&lt;ProgressEvent&gt;)</code>',required:'å¦'},
							{params:'complete',version:'0.0.1',desc:'ä¸Šä¼ æ–‡ä»¶æˆåŠŸçš„é’©å­ï¼Œå‚æ•°ä¸ºä¸Šä¼ çš„æ–‡ä»¶<code>file&lt;File&gt;</code>å’Œ<code>response&lt;Object&gt;</code>',type:'<code>Function(file&lt;File&gt;,response&lt;Object&gt;)</code>',required:'å¦'},
							{params:'remove',version:'0.0.1',desc:'åˆ é™¤æ–‡ä»¶ä¹‹å‰çš„é’©å­ï¼Œå‚æ•°ä¸ºåˆ é™¤çš„æ–‡ä»¶<code>file&lt;File&gt;</code>ï¼Œè‹¥è¿”å› <code>Promise</code> ä¸”è¢« <code>reject</code>ï¼Œåˆ™å–æ¶ˆåˆ é™¤',type:'<code>Function(file&lt;File&gt;)</code>',required:'å¦'},
						]
					},
					slot:{
						data:[
							{title:'default',desc:'è§¦å‘æ–‡ä»¶é€‰æ‹©æ¡†çš„æ§ä»¶'},
							{title:'list',desc:'è‡ªå®šä¹‰æ–‡ä»¶åˆ—è¡¨'},
						]
					},
					methods:{
						data:[
							{name:'upload',desc:'æ‰‹åŠ¨ä¸Šä¼ æ–‡ä»¶åˆ—è¡¨',params:''},
						]
					}
				}
			}
		},
		methods:{
			handleUpload(){
				this.$refs.upload.upload()
			},
			handleError(files,type,msg){
			},
			handleBefore(files){
				return new Promise((resolve, reject) => {
				  resolve();
				});
			},
			handleProgress(file,e){
			},
			handleComplete(file,response){
			},
		}
  }
</script>

<style>
</style>
